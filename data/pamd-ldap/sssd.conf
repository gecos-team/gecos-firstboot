# GECOS configuration template

[sssd]
config_file_version = 2

# Number of times services should attempt to reconnect in the
# event of a crash or restart before they give up
reconnection_retries = 3

# If a back end is particularly slow you can raise this timeout here
sbus_timeout = 30
services = nss, pam

# SSSD will not start if you do not configure any domains.
# Add new domain configurations as [domain/<NAME>] sections, and
# then add the list of domains (in the order you want them to be
# queried) to the "domains" attribute below and uncomment it.
domains = LOCAL, LDAP

[nss]
debug_level = 10
# The following prevents SSSD from searching for the root user/group in
# all domains (you can add here a comma-separated list of system accounts that
# are always going to be /etc/passwd users, or that you want to filter out).
filter_groups = root
filter_users = root
reconnection_retries = 3

# The entry_cache_nowait_percentage indicates the percentage of the
# entry_cache_timeout to wait before updating the cache out-of-band.
# (NSS requests will still be returned from cache until the full
# entry_cache_timeout). Setting this value to 0 turns this feature
# off (default).
; entry_cache_nowait_percentage = 300


# This option overwrites ldap parameter homeDirectory with the username
override_homedir = /home/%u


[pam]
reconnection_retries = 3

[domain/LOCAL]
description = LOCAL Users domain
id_provider = local
enumerate = true
min_id = 500
max_id = 999


[domain/LDAP]
#debug_level=10
id_provider = ldap
auth_provider = ldap
ldap_uri = ldap://LDAPSERVER
ldap_search_base = LDAPBASE
ldap_schema = rfc2307
cache_credentials = true
enumerate = true
entry_cache_timeout = 5400
# UNSECURE OPTIONS FOR PLAIN LDAP ACCESS WITHOUT TLS:
ldap_tls_reqcert = never
ldap_auth_disable_tls_never_use_in_production = true

